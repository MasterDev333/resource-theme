"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}!function(s){var e={debounce:function(i,o){var n;return o=o||200,function(){var t=this,e=arguments;clearTimeout(n),n=setTimeout(function(){i.apply(t,Array.prototype.slice.call(e))},o)}},isElementExist:function(t,e,i){var o=document.querySelector(t);if(document.body.contains(o))try{arguments.length<=2?e():e.apply(void 0,_toConsumableArray(i))}catch(t){console.log(t)}},viewportCheckerAnimate:function(t,e,i){jQuery(t).addClass("a-hidden").viewportChecker({classToRemove:"a-hidden",classToAdd:"animated ".concat(e),offset:10,callbackFunction:function(t){i&&t.on("animationend",function(){t.addClass("animation-end")})}})},windowResize:function(t){s(window).on("resize orientationchange",this.debounce(t,200))},mobileSlider:function(t,e){window.matchMedia("(max-width: 768px)").matches?t.hasClass("slick-initialized")||t.slick(e):t.hasClass("slick-initialized")&&t.slick("unslick")}},i={init:function(){this.plugins(),this.bindEvents(),this.initAnimations()},plugins:function(){s("img[data-src]").lazyload()},bindEvents:function(){var t=this;s(document).on("ready",function(){t.smoothScrollLinks(),t.scrollNextSection(),t.initHeader(),e.isElementExist(".cursor",t.initCursor),e.isElementExist(".circle-content",t.circleContent),e.isElementExist(".image-carousel",t.initImageCarousel),e.isElementExist(".team-carousel",t.initTeamCarousel),e.isElementExist(".lottie-play",t.initLottiePlay),e.isElementExist(".cpt-grid",t.initCPTGrid),e.isElementExist(".jobs-slider",t.initJobSlider),e.isElementExist(".sector-details",t.initSectorDetails),e.isElementExist(".acf-map",t.initACFMap),e.isElementExist(".privacy-links",t.initPrivacy),e.isElementExist(".tab",t.initTab),e.isElementExist(".section-cta",t.initGlobalCTA)}),s(window).on("scroll",function(){50<=s(window).scrollTop()?s(".header").addClass("header--sticky"):s(".header").removeClass("header--sticky")})},initAnimations:function(){e.viewportCheckerAnimate(".a-up","fadeInUp",!0),e.viewportCheckerAnimate(".a-down","fadeInDown"),e.viewportCheckerAnimate(".a-left","fadeInLeft"),e.viewportCheckerAnimate(".a-right","fadeInRight"),e.viewportCheckerAnimate(".a-op","fade")},smoothScrollLinks:function(){s('a[href^="#"]:not(.tab-link)').on("click touchstart",function(){var t=s(this).attr("href");if("#"!==t&&0<s(t).length){var e=s(t).offset().top-s("header").outerHeight()-50;s("html, body").animate({scrollTop:e},500)}return!1})},scrollNextSection:function(){s(".btn-next-section").on("click",function(){var t=s(this).closest("section").next();s("html, body").animate({scrollTop:t.offset().top},500)})},initHeader:function(){s(".hamburger").on("click",function(){s(this).toggleClass("active"),s(".header-mobile").slideToggle("medium",function(){s(this).is(":visible")&&s(this).css("display","flex")})})},initCursor:function(){({delay:8,_x:0,_y:0,endX:window.innerWidth/2,endY:window.innerHeight/2,cursorVisible:!0,cursorEnlarged:!1,$dot:document.querySelector(".cursor-dot"),$outline:document.querySelector(".cursor-dot-outline"),init:function(){this.dotSize=this.$dot.offsetWidth,this.outlineSize=this.$outline.offsetWidth,this.setupEventListeners(),this.animateDotOutline()},setupEventListeners:function(){var e=this;document.addEventListener("mousedown",function(){e.cursorEnlarged=!0,e.toggleCursorSize()}),document.addEventListener("mouseup",function(){e.cursorEnlarged=!1,e.toggleCursorSize()}),document.addEventListener("mousemove",function(t){e.cursorVisible=!0,e.toggleCursorVisibility(),"a"!=t.target.tagName.toLowerCase()&&e.changeColor(t),e.endX=t.pageX,e.endY=t.pageY,e.$dot.style.top="".concat(e.endY,"px"),e.$dot.style.left="".concat(e.endX,"px")}),document.addEventListener("mouseenter",function(t){e.cursorVisible=!0,e.toggleCursorVisibility(),e.$dot.style.opacity=1,e.$outline.style.opacity=1}),document.addEventListener("mouseleave",function(t){e.cursorVisible=!0,e.toggleCursorVisibility(),e.$dot.style.opacity=0,e.$outline.style.opacity=0}),document.querySelectorAll("a, btn").forEach(function(t){t.addEventListener("mouseover",function(){e.cursorEnlarged=!0,e.toggleCursorSize(),(this.classList.contains("btn-green")||s(this).closest(".menu-item").length)&&(e.$dot.style.backgroundColor="#f0f",e.$outline.style.backgroundColor="rgba(255, 0, 255, 0.5)")}),t.addEventListener("mouseout",function(){e.cursorEnlarged=!1,e.toggleCursorSize(),(this.classList.contains("btn-green")||s(this).closest(".menu-item").length)&&(e.$dot.style.backgroundColor="#59ff96",e.$outline.style.backgroundColor="rgba(89,255,150,.5)")})})},animateDotOutline:function(){var t=this;t._x+=(t.endX-t._x)/t.delay,t._y+=(t.endY-t._y)/t.delay,t.$outline.style.top="".concat(t._y,"px"),t.$outline.style.left="".concat(t._x,"px"),requestAnimationFrame(this.animateDotOutline.bind(t))},toggleCursorSize:function(){var t=this;t.cursorEnlarged?(t.$dot.style.transform="translate(-50%, -50%) scale(0.75)",t.$outline.style.transform="translate(-50%, -50%) scale(1.5)"):(t.$dot.style.transform="translate(-50%, -50%) scale(1)",t.$outline.style.transform="translate(-50%, -50%) scale(1)")},toggleCursorVisibility:function(){var t=this;t.cursorVisible?(t.$dot.style.opacity=1,t.$outline.style.opacity=1):(t.$dot.style.opacity=0,t.$outline.style.opacity=0)},changeColor:function(t){"rgb(89, 255, 150)"==s(t.target).closest("section").css("background-color")?(this.$dot.style.backgroundColor="#f0f",this.$outline.style.backgroundColor="rgba(255, 0, 255, 0.5)"):(this.$dot.style.backgroundColor="#59ff96",this.$outline.style.backgroundColor="rgba(89,255,150,.5)")}}).init()},circleContent:function(){s(".circle").on("click touchstart",function(){var t=s(this).index();s(this).hasClass("active")||(s(".circle-content__content.active").removeClass("active"),s(".circle-content__content:nth-child(".concat(t+1,")")).addClass("active"))})},initImageCarousel:function(){s(".image-carousel").slick({arrows:!0,dots:!1,autoplay:!0,autoplaySpeed:5e3,prevArrow:'<button type="button" class="slick-prev"><i class="fas fa-chevron-left"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="fas fa-chevron-right"></i></button>'})},initServiceBlocks:function(){var t=s(".service-blocks");e.mobileSlider(t,{arrows:!1,dots:!1}),e.windowResize(i.initServiceBlocks)},initTeamCarousel:function(){s(".team-carousel").slick({arrows:!0,dots:!1,autoplay:!0,autoplaySpeed:3e3,variableWidth:!0,prevArrow:'<button type="button" class="slick-prev"><i class="fas fa-chevron-left"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="fas fa-chevron-right"></i></button>',responsive:[{breakpoint:769,settings:{arrows:!1,autoplay:!0}}]}),s(".team-image").on("click",function(){var t=s(this).attr("data-id"),e=s(this).closest(".team-slider"),i=s(".person-info",e);s(this).hasClass("active")?(s(this).removeClass("active"),i.html(""),i.hide()):(s(".team-image.active").removeClass("active"),s.ajax({url:ajaxurl,type:"POST",data:{action:"ajax_person_info",id:t},beforeSend:function(){},success:function(t){var e=s.parseJSON(t);i.html(e.output),i.show()},complete:function(){}}),s(this).addClass("active"))})},initLottiePlay:function(){s(".lottie-play").viewportChecker({classToAdd:"is-active",callbackFunction:function(t){var e=s(t).attr("data-name");bodymovin.play(e)}})},initCPTGrid:function(){var n=s(".cpt-grid"),a=s(".pagination");s(".btn-job-filter").on("click",function(){if(!s(this).hasClass("active")){var t=s(this).attr("data-filter");n.attr("data-filter",t),s(".btn-job-filter.active").removeClass("active"),s(this).addClass("active"),function(){var t=n.attr("data-filter"),e=n.attr("data-paged"),i=n.attr("data-type"),o=n.attr("data-posts-per-page");s.ajax({url:ajaxurl,type:"POST",data:{action:"ajax_posts",type:i,cat:t,paged:e,posts_per_page:o},beforeSend:function(){n.html('<div class="lds-roller"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>')},success:function(t){var e=s.parseJSON(t);s(".lds-roller").remove(),n.html(e.output),a.html(e.pagination),n.attr("data-paged",e.paged)},complete:function(){}})}()}})},initJobSlider:function(){var t=s(".jobs-slider");e.mobileSlider(t,{arrows:!1,dots:!1,variableWidth:!0}),e.windowResize(i.initJobSlider)},initSectorDetails:function(){s(".sector-details__logo").on("click",function(){var t=s(this).closest(".sector-details"),e=s(this).index(),i=s(".image-carousel",t);i.length&&i.slick("slickGoTo",e)})},initACFMap:function(){function e(t){var e=t.querySelectorAll(".marker"),i={zoom:parseInt(t.dataset.zoom)||16,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,zoomControl:!1,scaleControl:!1,streetViewControl:!1,fullscreenControl:!1},o=new google.maps.Map(t,i);return o.markers=[],e.forEach(function(t){!function(t,e){var i=t.dataset.lat,o=t.dataset.lng,n={lat:parseFloat(i),lng:parseFloat(o)},a={path:"M6.88147 20.9998C6.88147 20.9998 1.74239 12.1391 0.645323 9.79493C0.231267 8.91019 0 7.92287 0 6.88156C0 3.08099 3.08083 0 6.88156 0C10.682 0 13.7631 3.08083 13.7631 6.88156C13.7631 7.92304 13.5317 8.91065 13.1175 9.7956C12.0201 12.1393 6.88172 21 6.88172 21L6.88147 20.9998ZM6.88147 9.74868C8.46495 9.74868 9.74859 8.46499 9.74859 6.88156C9.74859 5.29792 8.46491 4.01427 6.88147 4.01427C5.29783 4.01427 4.01419 5.29796 4.01419 6.88156C4.01419 8.46503 5.29787 9.74868 6.88147 9.74868Z",fillColor:"#7026b2",fillOpacity:1,strokeWeight:0,rotation:0,scale:2,anchor:new google.maps.Point(15,30)},s=new google.maps.Marker({position:n,map:e,icon:a});if(e.markers.push(s),t.innerHTML){var r=new google.maps.InfoWindow({content:t.innerHTML});google.maps.event.addListener(s,"click",function(){r.open(e,s)})}}(t,o)}),function(t){var e=new google.maps.LatLngBounds;t.markers.forEach(function(t){e.extend({lat:t.position.lat(),lng:t.position.lng()})}),1===t.markers.length?t.setCenter(e.getCenter()):t.fitBounds(e)}(o),o}document.querySelectorAll(".acf-map").forEach(function(t){e(t)})},initPrivacy:function(){function t(){s(".privacy-links").css("max-height",s(window).outerHeight()-s(".privacy-links").offset().top+"px")}window.onscroll=function(){var i="",t=document.querySelectorAll(".privacy-block"),e=document.querySelectorAll(".privacy-link");t.forEach(function(t){var e=t.offsetTop-50;pageYOffset>=e&&(i=t.getAttribute("id"))}),e.forEach(function(t){t.classList.remove("active"),t.getAttribute("href")==="#".concat(i)&&t.classList.add("active")})},t(),e.windowResize(t),window.matchMedia("(max-width: 768px)").matches&&s(".privacy-block__heading").on("click",function(){var t=s(this).closest(".privacy-block");s(this).toggleClass("active"),s(".privacy-block__content",t).slideToggle()})},initTab:function(){s(".tab-link").on("click",function(){if(!s(this).hasClass("active")){var t=s(this).attr("href");return s(".tab-link.active").removeClass("active"),s(".tab-content.active").removeClass("active"),s(this).addClass("active"),s(t).addClass("active"),!1}})},initGlobalCTA:function(){s(".section-cta__image img").length&&s(".section-cta__image").slick({arrows:!1,dots:!1,autoplay:!0,autoplaySpeed:3e3})}};i.init()}(jQuery);